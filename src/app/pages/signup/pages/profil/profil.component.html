<div class="profil">
  <div class="profil-header">
    <!-- Recueil des informations personnelles du User -->
    <p-card>
      <div class="p-grid">
        <div class="p-col-12">
          <form [formGroup]="form">
            <div
              class="p-fluid p-formgrid p-grid p-jc-center p-flex-xl-row p-flex-lg-row p-flex-md-row p-flex-column"
            >
              <div class="p-field p-sm-6">
                <label for="fname">Prénom</label>
                <input
                  formControlName="fname"
                  id="fname"
                  type="text"
                  pInputText
                  autocomplete
                  placeholder="Prénom"
                />
                <small
                  *ngIf="this.userForm['fname'].invalid && submitted"
                  class="p-error"
                  style="color: red"
                  >Prénom est obligatoire</small
                >
              </div>
              <div class="p-field p-sm-6">
                <label for="lname">Nom</label>
                <input
                  formControlName="lname"
                  id="lname"
                  type="text"
                  pInputText
                  autocomplete
                  placeholder="Nom de famille"
                />
                <small
                  *ngIf="this.userForm['lname'].invalid && submitted"
                  class="p-error"
                  style="color: red"
                  >Nom est obligatoire</small
                >
              </div>
              <div class="p-field p-sm-6" *ngIf="!editMode">
                <label for="email">Email</label>
                <input
                  formControlName="email"
                  id="email"
                  type="text"
                  pInputText
                  placeholder="johnDoe@gmail.com"
                />
                <small
                  *ngIf="
                    (this.userForm['email'].invalid &&
                      this.userForm['email'].dirty &&
                      this.userForm['email'].touched) ||
                    (this.userForm['email'].invalid && submitted)
                  "
                  class="p-error"
                  style="color: red"
                  >Email valide obligatoire</small
                >
              </div>
              <div class="p-field p-sm-6" *ngIf="!editMode">
                <label for="password">Mot de passe</label>
                <p-password
                  formControlName="password"
                  id="password"
                  [toggleMask]="true"
                ></p-password>
                <small
                  *ngIf="
                    (this.userForm['password'].invalid &&
                      this.userForm['password'].dirty &&
                      this.userForm['password'].touched) ||
                    (this.userForm['password'].invalid && submitted)
                  "
                  class="p-error"
                  style="color: red"
                  >Mot de passe doit avoir au moins 8 caractères</small
                >
              </div>
              <div class="p-field p-sm-6">
                <label for="phone">Téléphone</label>
                <input
                  formControlName="phone"
                  id="phone"
                  pInputText
                  [placeholder]="
                    this.userForm['phone'] &&
                    this.userForm['phone'].value !== '' &&
                    this.userForm['phone'].value !== undefined
                      ? this.userForm['phone'].value
                      : '+1 999 999 9999'
                  "
                />
                <small
                  *ngIf="this.userForm['phone'].invalid && submitted"
                  class="p-error"
                  style="color: red"
                  >Téléphone est obligatoire</small
                >
              </div>

              <div class="p-field p-sm-6">
                <label for="imageURL">Photo de profil</label><br />
                <input
                  type="file"
                  id="imageURL"
                  class="p-inputtext"
                  accept="image/*"
                  (change)="onImageUpdload($event)"
                />
                <small
                  *ngIf="userForm['imageURL'].invalid && submitted"
                  class="p-error"
                  >Image is required</small
                >
                <div class="p-col-3 p-mt-2 p-pl-0">
                  <img [src]="imageDisplay" style="width: 100%" />
                </div>

                <div class="p-field p-col-12 p-md:col-4" *ngIf="!editMode">
                  <label>Date de naissance</label>
                  <p-calendar
                    [(ngModel)]="value"
                    [ngModelOptions]="{ standalone: true }"
                    [showIcon]="true"
                    inputId="icon"
                    dateFormat="dd/mm/yy"
                  ></p-calendar>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="p-grid">
        <div class="p-col-12">
          <p-toolbar>
            <div class="p-toolbar-group-left">
              <p-button
                (click)="prevPage()"
                label="Précedent"
                icon="pi pi-arrow-circle-left"
                styleClass="p-button-secondary p-mr-2 p-mb-1"
              ></p-button>
            </div>
            <div class="p-toolbar-group-right">
              <p-button
                label="Suivant"
                [icon]="'pi pi-arrow-circle-right'"
                styleClass="p-button-success"
                (onClick)="nextPage()"
              ></p-button>
            </div>
          </p-toolbar>
        </div>
      </div>
    </p-card>
  </div>
</div>
